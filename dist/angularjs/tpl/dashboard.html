<!-- Breadcrumbs -->
<div class="page-title" data-ng-include="'tpl/parts/breadcrumbs.html'"></div>
<!-- /Breadcrumbs -->

<!--
<div class="row dashboard-actions">
  <div class="col s3">
    <div class="points card-panel stats-card blue blue-text text-lighten-5">
      <i class="fa fa-comments-o"></i>
      <span class="count">{{ check_points.card.points}}</span>
      <div class="name">Points {{ (check_points.card.id) ? '('+check_points.card.id+')':'' }}</div>
      <div class="name"></div>
    </div>
    <a ng-class="{'btn':(!check_points.active), 'btn green darken-2':check_points.active}" ng-click="checkPoints()">{{ check_points.label }}</a>
  </div>
  
  <div class="col s3">
    <div class="card-panel stats-card white red-text text-lighten-2">
      <i class="ion-fireball"></i>
      <span class="count">&nbsp;</span>
      <div class="name">{{ (activate_card.status == '') ? '&nbsp;':activate_card.status}}</div>
    </div>
    <div ng-show="activate_card.alert.show" ng-class="{'alert alert-dismissible green lighten-4 green-text text-darken-2':(activate_card.alert.status == 'ok'), 'alert alert-dismissible':(activate_card.alert.status == 'error')}">
      <span>{{ activate_card.alert.message }}</span>
      <button class="close">&times;</button>
    </div>
    <a ng-class="{'btn':(!activate_card.active), 'btn green darken-2':activate_card.active}" ng-click="activateCard()">{{ activate_card.label }}</a>
  </div>
  
  <div class="col s3">
    <div class="add-points card-panel stats-card amber lighten-2 amber-text text-lighten-5">
      <i class="fa fa-cloud-upload"></i>
      <div class="input-field">
        <input ng-model="add_point.points" id="add_points" type="text" class="validate">
        <label for="add_points">Points</label>
      </div>
    </div>
    <a ng-class="{'btn':(!add_point.active), 'btn green darken-2':add_point.active}" ng-click="addPoints()">{{ add_point.label }}</a>
  </div>
  
  <div class="col s3">
    <div class="remove-points card-panel stats-card light-green accent-2 text-lighten-5">
      <i class="fa fa-cloud-download"></i>
      <div class="input-field">
        <input ng-model="remove_points.points" id="remove_points" type="text" class="validate">
        <label for="remove_points">Points</label>
      </div>
    </div>
    <a ng-class="{'btn':(!remove_points.active), 'btn green darken-2':remove_points.active}" ng-click="removePoints()">{{ remove_points.label }}</a>
  </div>
  
</div>
-->
<div class="row dashboard-actions">
  <div class="col s3">
    <div class="points card-panel stats-card blue blue-text text-lighten-5">
      <i class="fa fa-comments-o"></i>
      <span class="count">{{ check_points.card.points}}</span>
      <div class="name">Points {{ (check_points.card.id) ? '('+check_points.card.id+')':'' }}</div>
      <div class="name"></div>
    </div>
    <a ng-class="{'btn':(!check_points.active), 'btn green darken-2':check_points.active}" ng-click="checkPoints()">{{ check_points.label }}</a>
  </div>
  
  <div class="col s3">
    <div class="add-points card-panel stats-card amber lighten-2 amber-text text-lighten-5">
      <i class="fa fa-cloud-upload"></i>
      <div class="input-field">
        <input ng-model="add_point.points" id="add_points" type="text" class="validate">
        <label for="add_points">Points</label>
      </div>
    </div>
    <a ng-class="{'btn':(!add_point.active), 'btn green darken-2':add_point.active}" ng-click="addPoints()">{{ add_point.label }}</a>
  </div>
  
  <div class="col s3">
    <div class="remove-points card-panel stats-card light-green accent-2 text-lighten-5">
      <i class="fa fa-cloud-download"></i>
      <div class="input-field">
        <input ng-model="remove_points.points" id="remove_points" type="text" class="validate">
        <label for="remove_points">Points</label>
      </div>
    </div>
    <a ng-class="{'btn':(!remove_points.active), 'btn green darken-2':remove_points.active}" ng-click="removePoints()">{{ remove_points.label }}</a>
  </div>
  
</div>

<div class="row">
  <div class="card-panel" ng-show="is_person_selected || create_user">
      <h4>Edit</h4>
      <form ng-submit="saveUser()">
          <div class="row">
              <div class="col m12 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[0].column]">
                    <label for="input_text">{{ column_names[0].name }}</label>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col m6 s12">
                  <div class="input-field">
                      <i class="fa fa-envelope prefix"></i>
                      <input type="email" ng-model="selected_person[column_names[1].column]">
                      <label for="input_email">{{ column_names[1].name }}</label>
                  </div>
              </div>
              <div class="col m6 s12">
                  <div class="input-field">
                      <i class="fa fa-phone prefix"></i>
                      <input type="tel" ng-model="selected_person[column_names[2].column]">
                      <label for="input_email">{{ column_names[2].name }}</label>
                  </div>
              </div>
          </div>

          <div class="row">
              <div class="col m6 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[3].column]">
                    <label for="input_text">{{ column_names[3].name }}</label>
                  </div>
              </div>
              <div class="col m6 s12">
                  <div class="input-field">
                    <p>
                      <input type="radio" id="paid" value="1" ng-model="selected_person[column_names[4].column]" />
                      <label for="paid">PAID</label>
                      <input type="radio" id="unpaid" value="0" ng-model="selected_person[column_names[4].column]" />
                      <label for="unpaid">UNPAID</label>
              <input type="radio" id="refund" value="2" ng-model="selected_person[column_names[4].column]" />
                      <label for="refund">REFUND</label>
                    </p>
                  </div>
              </div>
          </div>

          <div class="row">
              <div class="col m6 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[5].column]">
                    <label for="input_text">{{ column_names[5].name }}</label>
                  </div>
              </div>
              <div class="col m6 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[6].column]">
                    <label for="input_text">{{ column_names[6].name }}</label>
                  </div>
              </div>
          </div>

          <div class="row">
              <div class="col m6 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[8].column]">
                    <label for="input_text">{{ column_names[8].name }}</label>
                  </div>
              </div>
              <div class="col m6 s12">
                  <div class="input-field">
                    <input type="text" class="validate" ng-model="selected_person[column_names[9].column]">
                    <label for="input_text">{{ column_names[9].name }}</label>
                  </div>
              </div>
          </div>

          <div class="row">
              <div class="col">
                  <button class="btn" type="submit" name="action">Save</button>
                  <a class="btn" ng-click="closeEditAdd()">Close</a>
                  <a class="waves-effect waves-dark btn red modal-trigger" href="#deleteModal" ng-click="deleteModal()">Delete</a>
              </div>
          </div>
      </form>
  </div>
</div>

<!-- With Search -->
<div class="card-panel row" ng-show="is_person_selected == false && create_user == false">
  <h4>Registration <a class="btn-floating red waves-effect btn-small" ng-click="create_user = true"><i class="mdi-content-add"></i></a></h4>
  <div ng-show="alert.show" ng-class="{'alert alert-dismissible green lighten-4 green-text text-darken-2':(alert.status == 'ok'), 'alert alert-dismissible':(alert.status == 'error')}">
      <span>{{ alert.message }}</span>
      <button class="close">&times;</button>
   </div>
  
  <table datatable="ng" dt-options="table4opts" class="display table table-bordered table-striped table-hover">
    <thead>
      <tr>
        <th ng-repeat="column in column_names" ng-show="column.display != false">{{column.name}}</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="person in tablesData">
        <td ng-show="column_names[0].display != false" ng-click="select_person(person)"><a href="#">{{ person.name }}</a></td>
        <td ng-show="column_names[1].display != false" >{{ person.email }}</td>
        <td ng-show="column_names[2].display != false" >{{ person.phone }}</td>
        <td ng-show="column_names[3].display != false" >{{ person.dci }}</td>
        <td ng-show="column_names[4].display != false" >
            <div ng-class="{'paid amber lighten-3 accent-4 text-darken-2':(person.paid == 2), 'paid light-green accent-4 text-darken-2':(person.paid == 1), 'red accent-4 unpaid text-darken-2': (person.paid == 0)}">
                <i ng-class="{'fa fa-check':(person.paid == 1), 'fa fa-remove':(person.paid == 0)}"></i>
                {{ (person.paid == 1) ? 'PAID':'UNPAID'}}
            </div>
        </td>
        <td ng-show="column_names[5].display != false" >{{ (person.payment_info.length > 1000) ? 'Paypal':person.payment_info  }}</td>
        <td ng-show="column_names[6].display != false" >{{ person.misc_info }}</td>
        <td ng-show="column_names[7].display != false" >{{ person.created_at }}</td>
        <td ng-show="column_names[8].display != false" >{{ person.country }}</td>
        <td ng-show="column_names[9].display != false" >{{ person.type }}</td>
        <td ng-show="column_names[10].display != false" ><a href="#" ng-if="person.cards.length == 0" ng-click="activateCard(person)">{{ (!person.card) ? 'Activate':person.card }}</a></td>
      </tr>
    </tbody>
  </table>
</div>
<!-- /With Search -->