<div class="page-title" data-ng-include="'tpl/parts/breadcrumbs.html'"></div>

<div class="row">
  <div class="card-panel" ng-show="new_event == true">
      <h4>Add</h4>
      <form ng-submit="saveEvent()">
          <div class="row">
              <div class="col m12 s12">
                  <div class="input-field">
                    <input type="text" id="event_name" class="validate" ng-model="event.name">
                    <label for="event_name">Event Name</label>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col m6 s12">
                  <div class="input-field">
                      <i class="fa fa-plus-circle prefix"></i>
                      <input type="text" id="points" ng-model="event.points">
                      <label for="points">Points Required</label>
                  </div>
              </div>
              <div class="col m6 s12">
                  <div class="input-field">
                    <p>
                      <input type="radio" id="enabled" value="1" ng-model="event.enabled" />
                      <label for="enabled">Enabled</label>
                      <input type="radio" id="disabled" value="0" ng-model="event.enabled" />
                      <label for="disabled">Disabled</label>
                    </p>
                  </div>
              </div>
          </div>

          <div class="row">
              <div class="col">
                  <button class="btn" type="submit" name="action">Save</button>
                  <a class="btn" ng-click="new_event = false">Close</a>
                  <a class="waves-effect waves-dark btn red modal-trigger" href="#deleteModal" ng-click="deleteEvent()">Delete</a>
              </div>
          </div>
      </form>
  </div>
</div>

<div class="row" ng-if="new_event != true">
  <div class="col s12">
  <h4>Events <a class="btn-floating red waves-effect btn-small" ng-click="newEvent()"><i class="mdi-content-add"></i></a></h4>
  <table class="table">
    <thead>
      <tr>
        <th>Event Name</th>
        <th>Points Required</th>
        <th>Players</th>
        <th>Enabled</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="event in events">
        <td>{{event.name}}</td>
        <td>{{event.price}}</td>
        <td><a href="#">{{ (event.cards.length > 0) ? event.cards.length:0 }}</a></td>
        <td>{{event.enabled}}</td>
      </tr>
    </tbody>
  </table>
  </div>
</div>